{"ast":null,"code":"import _toConsumableArray from\"E:/Web Development/Assignments/Aulacube/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"E:/Web Development/Assignments/Aulacube/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/Web Development/Assignments/Aulacube/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Header from\"./Header\";import Footer from\"./Footer\";import Todos from\"./Todos\";import AddNewTodo from\"./AddNewTodo\";import EditTodo from\"./EditTodo\";import About from\"./About\";import{useState,useEffect}from\"react\";import{Route,BrowserRouter as Router,Routes}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var initTask;// this code fetches the data in local storage and give it to the todoList using hooks\nif(localStorage.getItem('todoList')===null){initTask=[\"\"];}else{initTask=JSON.parse(localStorage.getItem('todoList'));}var _useState=useState(initTask),_useState2=_slicedToArray(_useState,2),todoList=_useState2[0],updateList=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),editTask=_useState4[0],setEditTask=_useState4[1];var addTask=function addTask(title,desc,priority){var updatedList;if(editTask.key){// If editTask has a key, it means we are editing an existing task\nupdatedList=todoList.map(function(task){return task.key===editTask.key?_objectSpread(_objectSpread({},task),{},{title:title,content:desc,priority:priority}):task;});}else{// If editTask doesn't have a key, it means we are adding a new task\nif(todoList.length===0){var key=1;}else{key=todoList[todoList.length-1].key+1;}var newTask={key:key,title:title,content:desc,priority:priority};updatedList=[].concat(_toConsumableArray(todoList),[newTask]);}// Set the updated list\nupdateList(updatedList);// Clear the editTask state\nsetEditTask({});// Save the updated list to local storage\nlocalStorage.setItem(\"todoList\",JSON.stringify(updatedList));};//function to delete the task\nvar onDelete=function onDelete(noteItem){console.log(\"I am onDelete.\",noteItem);updateList(todoList.filter(function(e){return e!==noteItem;}));localStorage.setItem(\"todoList\",JSON.stringify(todoList));};//function to edit the task\nvar handleTaskEdit=function handleTaskEdit(noteItem){setEditTask(noteItem);};console.log(editTask);useEffect(function(){localStorage.setItem(\"todoList\",JSON.stringify(todoList));},[todoList]);var MasterComponent=function MasterComponent(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task-operation container\",children:[/*#__PURE__*/_jsx(AddNewTodo,{addTask:addTask}),/*#__PURE__*/_jsx(EditTodo,{addTask:addTask,editedTask:editTask})]}),/*#__PURE__*/_jsx(Todos,{todoList:todoList,onDelete:onDelete,onEdit:handleTaskEdit})]});};return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Header,{title:\"AulaTask\"}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(MasterComponent,{})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","Header","Footer","Todos","AddNewTodo","EditTodo","About","useState","useEffect","Route","BrowserRouter","Router","Routes","jsx","_jsx","jsxs","_jsxs","App","initTask","localStorage","getItem","JSON","parse","_useState","_useState2","_slicedToArray","todoList","updateList","_useState3","_useState4","editTask","setEditTask","addTask","title","desc","priority","updatedList","key","map","task","_objectSpread","content","length","newTask","concat","_toConsumableArray","setItem","stringify","onDelete","noteItem","console","log","filter","e","handleTaskEdit","MasterComponent","children","className","editedTask","onEdit","path","element"],"sources":["E:/Web Development/Assignments/Aulacube/src/Components/App.jsx"],"sourcesContent":["import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Todos from \"./Todos\";\r\nimport AddNewTodo from \"./AddNewTodo\";\r\nimport EditTodo from \"./EditTodo\";\r\nimport About from \"./About\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Route, BrowserRouter as Router, Routes } from \"react-router-dom\";\r\n\r\n\r\nfunction App() {\r\n\r\n    let initTask;\r\n    // this code fetches the data in local storage and give it to the todoList using hooks\r\n    if (localStorage.getItem('todoList') === null) {\r\n        initTask = [\"\"];\r\n    }\r\n    else {\r\n        initTask = JSON.parse(localStorage.getItem('todoList'));\r\n    }\r\n    const [todoList, updateList] = useState(initTask);\r\n    const [editTask, setEditTask] = useState({})\r\n\r\n    const addTask = (title, desc, priority) => {\r\n        let updatedList;\r\n        if (editTask.key) {\r\n            // If editTask has a key, it means we are editing an existing task\r\n            updatedList = todoList.map((task) => (task.key === editTask.key ? { ...task, title, content: desc, priority } : task));\r\n        } else {\r\n            // If editTask doesn't have a key, it means we are adding a new task\r\n            if (todoList.length === 0) {\r\n                var key = 1;\r\n            } else {\r\n                key = todoList[todoList.length - 1].key + 1;\r\n            }\r\n            const newTask = {\r\n                key: key,\r\n                title: title,\r\n                content: desc,\r\n                priority: priority,\r\n            };\r\n            updatedList = [...todoList, newTask];\r\n        }\r\n\r\n        // Set the updated list\r\n        updateList(updatedList);\r\n\r\n        // Clear the editTask state\r\n        setEditTask({});\r\n\r\n        // Save the updated list to local storage\r\n        localStorage.setItem(\"todoList\", JSON.stringify(updatedList));\r\n    };\r\n\r\n\r\n    //function to delete the task\r\n    const onDelete = (noteItem) => {\r\n        console.log(\"I am onDelete.\", noteItem);\r\n\r\n        updateList(todoList.filter((e) => {\r\n            return e !== noteItem;\r\n        })\r\n        )\r\n\r\n        localStorage.setItem(\"todoList\", JSON.stringify(todoList))\r\n    }\r\n\r\n\r\n    //function to edit the task\r\n    const handleTaskEdit = (noteItem) => {\r\n        setEditTask(noteItem);\r\n    }\r\n    console.log(editTask);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(\"todoList\", JSON.stringify(todoList))\r\n    }, [todoList])\r\n\r\n    const MasterComponent = () => {\r\n        return (\r\n            <div>\r\n\r\n                {/* Form for creating and editing tasks */}\r\n                <div className=\"task-operation container\">\r\n                    <AddNewTodo addTask={addTask}    />\r\n                    <EditTodo addTask={addTask} editedTask={editTask} />\r\n                </div>\r\n\r\n                {/* List of all tasks with their priorities */}\r\n                <Todos todoList={todoList} onDelete={onDelete} onEdit={handleTaskEdit} />\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n    return (\r\n        <Router>\r\n            <Header title=\"AulaTask\" />\r\n\r\n            <Routes>\r\n                <Route path=\"/about\" element={<About />} />\r\n                <Route path=\"/\" element={<MasterComponent />} />\r\n            </Routes>\r\n\r\n            <Footer />\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}